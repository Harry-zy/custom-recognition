# 自定义识别工具

这是一个用于生成文件名正则替换规则的工具，主要用于电影和电视剧文件的重命名。

## 功能特点

1. 支持电影和电视剧两种媒体类型
2. 自动从文件名中解析季数、集数和视频格式
3. 支持多种季集格式的识别：
   - S01E01 格式
   - 第1季第1集 格式
   - Season 1 Episode 1 格式
   - E01 格式（仅集数）
   - 第01集 格式（仅集数）
   - Ep01/Ep.01 格式（仅集数）
   - Episode01/Episode.01 格式（仅集数）
4. 支持视频格式的识别：
   - 1080P/1080p
   - 720P/720p
   - 2160P/2160p
   - 4K/4k
   - 8K/8k
   - 480P/480p
   - HDR
   - HEVC/H265
5. 支持季数调整：
   - 手动输入季数（支持00、0、01、1等格式）
   - 季偏移量调整（可以通过+/-数字调整季数）
6. TMDB API密钥管理：
   - 自动保存API密钥到配置文件
   - 下次运行时自动读取已保存的密钥

## 使用方法

1. 首次运行时需要输入TMDB API密钥，之后会自动保存到`custom-recognition.config`文件中
2. 输入要处理的文件名
3. 选择媒体类型（电影/电视剧）
4. 输入TMDB ID
5. 对于电视剧：
   - 如果未能自动识别季数，需要手动输入
   - 可以输入季偏移量来调整季数
   - 如果未能自动识别集数，需要手动输入
6. 如果未能自动识别视频格式，需要手动输入
7. 程序会生成相应的正则替换规则

## 输出示例

```
=== 正则替换规则 ===
原始文件名: Jade Dynasty S03E01 2025 2160p WEB-DL H265 DDP2.0-ADWeb

要替换成:
诛仙.2022.S01E01.2160p.{tmdbid=206484}

被替换词: 
Jade Dynasty S03E(\d{1,2}) 2025 2160p WEB-DL H265 DDP2\.0-ADWeb
替换词: 
诛仙.2022.S01E\1.2160p.{tmdbid=206484}
```

## 配置文件

程序会在同级目录下创建`custom-recognition.config`文件，用于存储TMDB API密钥。配置文件格式如下：

```json
{
    "tmdb_api_key": "your-api-key-here"
}
```

## 编译方法

```bash
go build -o custom-recognition main.go
``` 